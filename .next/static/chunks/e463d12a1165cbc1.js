(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,a)=>{},98547,(e,t,a)=>{var d=e.i(47167);e.r(16015);var s=e.r(71645),r=s&&"object"==typeof s&&"default"in s?s:{default:s},i=void 0!==d.default&&d.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,a=t.name,d=void 0===a?"stylesheet":a,s=t.optimizeForSpeed,r=void 0===s?i:s;l(n(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",l("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,a=e.prototype;return a.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},a.isOptimizeForSpeed=function(){return this._optimizeForSpeed},a.inject=function(){var e=this;if(l(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},a.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},a.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},a.insertRule=function(e,t){if(l(n(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var d=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,d))}return this._rulesCount++},a.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var a="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(d){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var d=this._tags[e];l(d,"old rule at index `"+e+"` not found"),d.textContent=t}return e},a.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];l(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},a.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},a.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},a.makeStyleTag=function(e,t,a){t&&l(n(t),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+e,""),t&&d.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return a?s.insertBefore(d,a):s.appendChild(d),d},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var a=0;a<t.length;a++){var d=t[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}(e.prototype,t),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},u={};function f(e,t){if(!t)return"jsx-"+e;var a=String(t),d=e+a;return u[d]||(u[d]="jsx-"+c(e+"-"+a)),u[d]}function h(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var a=e+t;return u[a]||(u[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[a]}var p=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,d=void 0===a?null:a,s=t.optimizeForSpeed,r=void 0!==s&&s;this._sheet=d||new o({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),d&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),d=a.styleId,s=a.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var r=s.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[d]=r,this._instancesCounts[d]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var d=this._fromServer&&this._fromServer[a];d?(d.parentNode.removeChild(d),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],d=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,d=e.id;if(a){var s=f(d,a);return{styleId:s,rules:Array.isArray(t)?t.map(function(e){return h(s,e)}):[h(s,t)]}}return{styleId:f(d),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=s.createContext(null);function x(){return new p}function y(){return s.useContext(m)}m.displayName="StyleSheetContext";var g=r.default.useInsertionEffect||r.default.useLayoutEffect,j="undefined"!=typeof window?x():void 0;function _(e){var t=j||y();return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}_.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},a.StyleRegistry=function(e){var t=e.registry,a=e.children,d=s.useContext(m),i=s.useState(function(){return d||t||x()})[0];return r.default.createElement(m.Provider,{value:i},a)},a.createStyleRegistry=x,a.style=_,a.useStyleRegistry=y},37902,(e,t,a)=>{t.exports=e.r(98547).style},43129,e=>{"use strict";var t=e.i(43476),a=e.i(37902),d=e.i(71645);let s=e.i(47167).default.env.NEXT_PUBLIC_HOTEL_API_URL,r={async getAllRooms(){let e=await fetch(`${s}/public/rooms/all`);if(!e.ok)throw Error("Failed to fetch rooms");return await e.json()},async checkAvailability(e,t){let a=await fetch(`${s}/public/rooms/available?check_in=${e}&check_out=${t}`);if(!a.ok)throw Error("Failed to check availability");return await a.json()},async createReservation(e){let t=await fetch(`${s}/public/reservations/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create reservation");return await t.json()}};function i(){let[e,s]=(0,d.useState)(""),[i,n]=(0,d.useState)(""),[o,l]=(0,d.useState)([]),[c,u]=(0,d.useState)(null),[f,h]=(0,d.useState)(!1),[p,m]=(0,d.useState)({text:"",type:""}),[x,y]=(0,d.useState)(!1),[g,j]=(0,d.useState)({name:"",email:"",phone:"",paymentMethod:"pay_at_property",specialRequests:""});(0,d.useEffect)(()=>{s(new Date().toISOString().split("T")[0])},[]);let _=(e,t)=>{let a=new Date(e);return Math.ceil((new Date(t)-a)/864e5)},v=async t=>{if(t.preventDefault(),!e||!i)return void m({text:"Please select both check-in and check-out dates",type:"error"});if(e>=i)return void m({text:"Check-out date must be after check-in date",type:"error"});h(!0),m({text:"",type:""});try{let t=await r.checkAvailability(e,i);t.success&&t.available_rooms.length>0?(l(t.available_rooms),m({text:`Found ${t.total_available} available room(s)!`,type:"success"})):(l([]),m({text:"No rooms available for selected dates",type:"error"}))}catch(e){m({text:"Error checking availability. Please try again.",type:"error"})}finally{h(!1)}},S=async t=>{if(t.preventDefault(),!g.name||!g.email||!g.phone)return void m({text:"Please fill in all required fields",type:"error"});h(!0);try{let t={guest_name:g.name,guest_email:g.email,guest_phone:g.phone,room_id:c.room_id,check_in_date:e,check_out_date:i,payment_method:g.paymentMethod,special_requests:g.specialRequests},a=await r.createReservation(t);a.success&&(a.payment_required&&a.payment_url?window.location.href=a.payment_url:(m({text:`Booking confirmed! Reservation ID: ${a.reservation_id}. Total: $${a.total_amount.toFixed(2)}. ${a.message}`,type:"success"}),setTimeout(()=>{l([]),u(null),y(!1),j({name:"",email:"",phone:"",paymentMethod:"pay_at_property",specialRequests:""})},3e3)))}catch(e){m({text:"Error creating booking. Please try again.",type:"error"})}finally{h(!1)}};return(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 booking-widget",children:[(0,t.jsx)(a.default,{id:"a7fdadedd040fda8",children:".booking-widget.jsx-a7fdadedd040fda8{max-width:800px;margin:0 auto;padding:20px;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}.form-section.jsx-a7fdadedd040fda8{z-index:1;background:#fff;border-radius:8px;margin-top:-120px;margin-bottom:24px;padding:24px;position:relative;box-shadow:0 2px 8px #0000001a}h2.jsx-a7fdadedd040fda8{color:#333;text-align:center;margin-bottom:20px}.form-group.jsx-a7fdadedd040fda8{margin-bottom:16px}label.jsx-a7fdadedd040fda8{color:#555;margin-bottom:8px;font-weight:600;display:block}input.jsx-a7fdadedd040fda8,select.jsx-a7fdadedd040fda8{border:1px solid #ddd;border-radius:4px;width:100%;padding:10px;font-size:14px}input.jsx-a7fdadedd040fda8:focus,select.jsx-a7fdadedd040fda8:focus{border-color:#bda671;outline:none}.date-inputs.jsx-a7fdadedd040fda8{grid-template-columns:1fr 1fr;gap:16px;display:grid}@media (width<=640px){.date-inputs.jsx-a7fdadedd040fda8{grid-template-columns:1fr}.title_booking.jsx-a7fdadedd040fda8{font-size:1.8rem}}button.jsx-a7fdadedd040fda8{color:#fff;cursor:pointer;background:#bda671;border:none;border-radius:4px;width:100%;padding:12px 24px;font-size:16px;font-weight:600;transition:background .3s}button.jsx-a7fdadedd040fda8:hover{background:#b8941f}button.jsx-a7fdadedd040fda8:disabled{cursor:not-allowed;background:#ccc}.room-card.jsx-a7fdadedd040fda8{background:#fff;border:1px solid #ddd;border-radius:8px;margin-bottom:16px;padding:20px}.room-card.jsx-a7fdadedd040fda8 h3.jsx-a7fdadedd040fda8{color:#d4af37;margin-top:0}.room-details.jsx-a7fdadedd040fda8{margin:12px 0;line-height:1.6}.room-details.jsx-a7fdadedd040fda8 p.jsx-a7fdadedd040fda8{margin:4px 0}.message.jsx-a7fdadedd040fda8{border-radius:4px;margin-bottom:16px;padding:12px}.message.success.jsx-a7fdadedd040fda8{color:#155724;background:#d4edda;border:1px solid #c3e6cb}.message.error.jsx-a7fdadedd040fda8{color:#721c24;background:#f8d7da;border:1px solid #f5c6cb}.amenities.jsx-a7fdadedd040fda8{flex-wrap:wrap;gap:8px;margin-top:8px;display:flex}.amenity-tag.jsx-a7fdadedd040fda8{background:#f0f0f0;border-radius:12px;padding:4px 12px;font-size:12px}"}),(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-section",children:[(0,t.jsx)("h2",{className:"jsx-a7fdadedd040fda8 title_booking",children:"Check Room Availability "}),(0,t.jsxs)("form",{onSubmit:v,className:"jsx-a7fdadedd040fda8",children:[(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 date-inputs",children:[(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-group",children:[(0,t.jsx)("label",{htmlFor:"checkin",className:"jsx-a7fdadedd040fda8",children:"Check-in Date"}),(0,t.jsx)("input",{id:"checkin",type:"date",value:e,onChange:e=>s(e.target.value),min:new Date().toISOString().split("T")[0],required:!0,className:"jsx-a7fdadedd040fda8"})]}),(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-group",children:[(0,t.jsx)("label",{htmlFor:"checkout",className:"jsx-a7fdadedd040fda8",children:"Check-out Date"}),(0,t.jsx)("input",{id:"checkout",type:"date",value:i,onChange:e=>n(e.target.value),min:e||new Date().toISOString().split("T")[0],required:!0,className:"jsx-a7fdadedd040fda8"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:f,className:"jsx-a7fdadedd040fda8",children:f?"Checking...":"Check Availability"})]})]}),p.text&&(0,t.jsx)("div",{className:`jsx-a7fdadedd040fda8 message ${p.type}`,children:p.text}),o.length>0&&!x&&(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-section",children:[(0,t.jsx)("h2",{className:"jsx-a7fdadedd040fda8",children:"Available Rooms"}),o.map(a=>{let d=_(e,i),s=a.price_per_night*d;return(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 room-card",children:[(0,t.jsxs)("h3",{className:"jsx-a7fdadedd040fda8",children:["Room ",a.room_number," - ",a.room_type]}),(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 room-details",children:[(0,t.jsxs)("p",{className:"jsx-a7fdadedd040fda8",children:[(0,t.jsx)("strong",{className:"jsx-a7fdadedd040fda8",children:"Capacity:"})," ",a.capacity," guests"]}),(0,t.jsxs)("p",{className:"jsx-a7fdadedd040fda8",children:[(0,t.jsx)("strong",{className:"jsx-a7fdadedd040fda8",children:"Price:"})," $",a.price_per_night,"/night"]}),(0,t.jsxs)("p",{className:"jsx-a7fdadedd040fda8",children:[(0,t.jsxs)("strong",{className:"jsx-a7fdadedd040fda8",children:["Total for ",d," night(s):"]})," $",s.toFixed(2)]}),a.description&&(0,t.jsx)("p",{className:"jsx-a7fdadedd040fda8",children:a.description})]}),(0,t.jsx)("button",{onClick:()=>{u(a),y(!0)},className:"jsx-a7fdadedd040fda8",children:"Select This Room"})]},a.room_id)})]}),x&&c&&(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-section",children:[(0,t.jsx)("h2",{className:"jsx-a7fdadedd040fda8",children:"Complete Your Booking"}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},className:"jsx-a7fdadedd040fda8 room-card",children:[(0,t.jsxs)("h3",{className:"jsx-a7fdadedd040fda8",children:["Selected: Room ",c.room_number]}),(0,t.jsxs)("p",{className:"jsx-a7fdadedd040fda8",children:[(0,t.jsx)("strong",{className:"jsx-a7fdadedd040fda8",children:"Total:"})," $",(c.price_per_night*_(e,i)).toFixed(2)]})]}),(0,t.jsxs)("form",{onSubmit:S,className:"jsx-a7fdadedd040fda8",children:[(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-group",children:[(0,t.jsx)("label",{htmlFor:"name",className:"jsx-a7fdadedd040fda8",children:"Full Name *"}),(0,t.jsx)("input",{id:"name",type:"text",value:g.name,onChange:e=>j({...g,name:e.target.value}),required:!0,className:"jsx-a7fdadedd040fda8"})]}),(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-group",children:[(0,t.jsx)("label",{htmlFor:"email",className:"jsx-a7fdadedd040fda8",children:"Email *"}),(0,t.jsx)("input",{id:"email",type:"email",value:g.email,onChange:e=>j({...g,email:e.target.value}),required:!0,className:"jsx-a7fdadedd040fda8"})]}),(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-group",children:[(0,t.jsx)("label",{htmlFor:"phone",className:"jsx-a7fdadedd040fda8",children:"Phone *"}),(0,t.jsx)("input",{id:"phone",type:"tel",value:g.phone,onChange:e=>j({...g,phone:e.target.value}),placeholder:"+1234567890",required:!0,className:"jsx-a7fdadedd040fda8"})]}),(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-group",children:[(0,t.jsx)("label",{htmlFor:"payment",className:"jsx-a7fdadedd040fda8",children:"Payment Method"}),(0,t.jsx)("select",{id:"payment",value:g.paymentMethod,onChange:e=>j({...g,paymentMethod:e.target.value}),className:"jsx-a7fdadedd040fda8",children:(0,t.jsx)("option",{value:"pay_at_property",className:"jsx-a7fdadedd040fda8",children:"Pay at Property"})})]}),(0,t.jsxs)("div",{className:"jsx-a7fdadedd040fda8 form-group",children:[(0,t.jsx)("label",{htmlFor:"requests",className:"jsx-a7fdadedd040fda8",children:"Special Requests (Optional)"}),(0,t.jsx)("input",{id:"requests",type:"text",value:g.specialRequests,onChange:e=>j({...g,specialRequests:e.target.value}),placeholder:"Late check-in, extra pillows, etc.",className:"jsx-a7fdadedd040fda8"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px"},className:"jsx-a7fdadedd040fda8",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{y(!1),u(null)},style:{background:"#6c757d"},className:"jsx-a7fdadedd040fda8",children:"Back"}),(0,t.jsx)("button",{type:"submit",disabled:f,className:"jsx-a7fdadedd040fda8",children:f?"Booking...":"Confirm Booking"})]})]})]})]})}e.s(["default",()=>i],43129)}]);